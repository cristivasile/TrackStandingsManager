<Window x:Class="CompUIWPF.Vehicles.UpdateVehicleWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Update Vehicle"
        SizeToContent="WidthAndHeight"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterOwner"
        ShowInTaskbar="False"
		Style="{StaticResource MaterialDesignWindow}">
    <Border CornerRadius="8" Padding="0" Margin="16">
        <DockPanel>
            <!-- Title bar -->
            <Border Padding="8" DockPanel.Dock="Top" CornerRadius="8,8,0,0">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="Manage Existing Vehicles" FontSize="16" FontWeight="Bold" VerticalAlignment="Center"/>
                    <Button Grid.Column="1" Content="✕" Width="28" Height="28" Margin="8,0,0,0" VerticalAlignment="Center"
                            Background="Transparent" BorderThickness="0" Click="CloseButton_Click"/>
                </Grid>
            </Border>

            <Grid Margin="12">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="220"/>
                    <ColumnDefinition Width="12"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Left: Image -->
				<StackPanel Grid.Column="0" HorizontalAlignment="Center">
                    <Border x:Name="ImageFrame" Background="Gray" BorderThickness="3" CornerRadius="6" Width="206" Height="187" MouseLeftButtonUp="ImageFrame_Click" MouseEnter="Image_MouseEnter" MouseLeave="Image_MouseLeave" Cursor="Hand">
                        <Grid>
                            <Image x:Name="VehicleImagePreview" Stretch="Uniform"/>
                            <TextBlock x:Name="ImageInfoText" Text="Click to paste&#x0a;image from clipboard" HorizontalAlignment="Center" VerticalAlignment="Center" TextAlignment="Center" FontSize="12"/>
                            <Button Background="Transparent" BorderThickness="0" Click="ImageFrame_Click"/>
                        </Grid>
                    </Border>
                    <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
                        <Button Content="Reset fields" Click="UndoChangesButton_Click"/>
                        <Button Content="Delete vehicle" Margin="8,0,0,0" Click="DeleteVehicleButton_Click"/>
                    </StackPanel>
                </StackPanel>

                <!-- Right: Fields -->
                <StackPanel Grid.Column="2">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <TextBlock Text="Selected:" FontSize="14" VerticalAlignment="Center" Margin="0,0,8,0"/>
                        <ComboBox x:Name="VehicleComboBox" Width="300" IsEditable="True" StaysOpenOnEdit="True" SelectionChanged="VehicleComboBox_SelectionChanged"/>
                        <Button Content="Search" Width="80" Margin="8,0,0,0" Click="SearchButton_Click"/>
                    </StackPanel>

                    <TextBlock Text="Brand:" FontSize="14" Margin="0,12,0,2"/>
                    <TextBox x:Name="BrandTextBox" Height="30" />

                    <TextBlock Text="Model:" FontSize="14" Margin="0,12,0,2"/>
                    <TextBox x:Name="ModelTextBox" Height="30" />

                    <TextBlock Text="Category:" FontSize="14" Margin="0,12,0,2"/>
                    <DockPanel>
                        <ComboBox x:Name="CategoryComboBox" MinWidth="240" />
                    </DockPanel>

                    <StackPanel x:Name="MessagePanel" Margin="0,12,0,0"/>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,12,0,0">
                        <Button Content="Exit" Width="90" Margin="0,0,8,0" Click="CloseButton_Click"/>
                        <Button Content="Save Changes" Width="110" Click="SaveButton_Click"/>
                    </StackPanel>
                </StackPanel>
            </Grid>
        </DockPanel>
    </Border>
</Window>